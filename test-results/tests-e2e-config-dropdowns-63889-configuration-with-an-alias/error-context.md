# Page snapshot

```yaml
- generic [ref=e1]:
  - generic [ref=e2]:
    - heading "Jira Issue Link Generator" [level=1] [ref=e3]
    - generic [ref=e4]:
      - combobox [ref=e5]:
        - option "-- Load Preset --" [selected]
      - button "Manage Presets" [active] [ref=e6] [cursor=pointer]
    - generic [ref=e7]:
      - generic [ref=e8]:
        - text: Base URL
        - generic [ref=e9]:
          - combobox "Base URL Manage" [ref=e10]:
            - option "-- Select Base URL --" [selected]
          - button "Manage" [ref=e11] [cursor=pointer]
      - generic [ref=e12]:
        - text: Project ID (pid)
        - generic [ref=e13]:
          - combobox "Project ID (pid) Manage" [ref=e14]:
            - option "-- Select Project ID --" [selected]
          - button "Manage" [ref=e15] [cursor=pointer]
      - generic [ref=e16]:
        - text: Issue Type ID
        - generic [ref=e17]:
          - combobox "Issue Type ID Manage" [ref=e18]:
            - option "-- Select Issue Type ID --" [selected]
          - button "Manage" [ref=e19] [cursor=pointer]
      - generic [ref=e21]:
        - combobox [ref=e22]:
          - option "-- Select Field --" [selected]
          - option "Summary"
          - option "Description"
          - option "Priority"
          - option "Assignee"
          - option "Labels"
          - option "Due Date"
          - option "Component"
        - button "Manage Fields" [ref=e23] [cursor=pointer]
        - button "Remove" [ref=e25] [cursor=pointer]
      - button "+ Add Field" [ref=e26] [cursor=pointer]
      - generic [ref=e27]:
        - button "Generate Link" [ref=e28] [cursor=pointer]
        - button "Save as Preset" [ref=e29] [cursor=pointer]
  - generic [ref=e31]:
    - heading "Manage Presets" [level=2] [ref=e32]
    - generic [ref=e34]: No presets saved yet
    - button "Close" [ref=e36] [cursor=pointer]
  - text: "formData.fields.forEach(field => addField(field)); // Reset dropdown select.value = ''; } catch (e) { alert('Error loading preset: ' + e.message); } } // ======================================================================== // FIELD MANAGER - Modal UI Functions // ======================================================================== function openFieldManager() { const modal = document.getElementById('fieldManagerModal'); modal.style.display = 'flex'; refreshConfigItemsList(); refreshFieldsList(); } function closeFieldManager() { const modal = document.getElementById('fieldManagerModal'); modal.style.display = 'none'; cancelEditField(); } function editFieldDefinition(index) { const definitions = loadFieldDefinitions(); const def = definitions[index]; if (!def) return; currentEditingFieldIndex = index; document.getElementById('fieldIdInput').value = def.id; document.getElementById('fieldIdInput').disabled = true; document.getElementById('fieldLabelInput').value = def.label; document.getElementById('fieldLabelInput').focus(); const addBtn = document.getElementById('addFieldBtn'); const cancelBtn = document.getElementById('cancelEditFieldBtn'); addBtn.textContent = 'Update'; addBtn.style.background = '#27ae60'; addBtn.onclick = () => addFieldDefinition(); cancelBtn.style.display = 'inline-block'; } function cancelEditField() { currentEditingFieldIndex = null; document.getElementById('fieldIdInput').value = ''; document.getElementById('fieldIdInput').disabled = false; document.getElementById('fieldLabelInput').value = ''; const addBtn = document.getElementById('addFieldBtn'); const cancelBtn = document.getElementById('cancelEditFieldBtn'); addBtn.textContent = 'Add'; addBtn.style.background = '#3498db'; addBtn.onclick = () => addFieldDefinition(); cancelBtn.style.display = 'none'; } function refreshConfigItemsList() { const configItemsList = document.getElementById('configItemsList'); const items = loadConfigurationItems(); configItemsList.innerHTML = ''; if (items.length === 0) { configItemsList.innerHTML = '"
  - generic [ref=e37]: No configuration items
  - text: "'; return; } items.forEach((item, index) => { const row = document.createElement('div'); row.style.cssText = 'display:flex;gap:8px;align-items:center;padding:6px;border-bottom:1px solid #eee;justify-content:space-between;'; const info = document.createElement('div'); info.style.cssText = 'flex:1;font-size:0.9em;'; info.innerHTML = `"
  - generic [ref=e38]: "${escapeHtml(item.label)}"
  - generic [ref=e39]: "${escapeHtml(item.id)}"
  - text: "`; const buttons = document.createElement('div'); buttons.style.cssText = 'display:flex;gap:4px;'; const editBtn = document.createElement('button'); editBtn.type = 'button'; editBtn.textContent = 'Edit'; editBtn.style.cssText = 'background:#3498db;color:#fff;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:0.85em;'; editBtn.onclick = () => editConfigurationItem(index); const deleteBtn = document.createElement('button'); deleteBtn.type = 'button'; deleteBtn.textContent = 'Delete'; deleteBtn.style.cssText = 'background:#e74c3c;color:#fff;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:0.85em;'; deleteBtn.onclick = () => { deleteConfigurationItem(index); }; buttons.appendChild(editBtn); buttons.appendChild(deleteBtn); row.appendChild(info); row.appendChild(buttons); configItemsList.appendChild(row); }); } function editConfigurationItem(index) { const items = loadConfigurationItems(); const item = items[index]; if (!item) return; currentEditingFieldIndex = index; document.getElementById('fieldIdInput').value = item.id; document.getElementById('fieldIdInput').disabled = true; document.getElementById('fieldLabelInput').value = item.label; document.getElementById('fieldLabelInput').focus(); const addBtn = document.getElementById('addFieldBtn'); const cancelBtn = document.getElementById('cancelEditFieldBtn'); addBtn.textContent = 'Update'; addBtn.style.background = '#27ae60'; addBtn.onclick = () => updateConfigurationItem(); cancelBtn.style.display = 'inline-block'; } function updateConfigurationItem() { const fieldLabel = document.getElementById('fieldLabelInput').value.trim(); if (!fieldLabel) { alert('Please enter a label'); return; } try { const items = loadConfigurationItems(); if (currentEditingFieldIndex !== null) { items[currentEditingFieldIndex].label = fieldLabel; } saveConfigurationItems(items); cancelEditField(); refreshConfigItemsList(); saveState(); } catch (e) { alert('Error updating configuration item: ' + e.message); } } function deleteConfigurationItem(index) { if (!confirm('Delete this configuration item?')) return; try { const items = loadConfigurationItems(); const deletedItem = items[index]; items.splice(index, 1); saveConfigurationItems(items); refreshConfigItemsList(); saveState(); } catch (e) { alert('Error deleting configuration item: ' + e.message); } } function refreshFieldsList() { const fieldsList = document.getElementById('fieldsList'); const definitions = loadFieldDefinitions(); fieldsList.innerHTML = ''; if (definitions.length === 0) { fieldsList.innerHTML = '"
  - generic [ref=e40]: No fields defined
  - text: "'; return; } definitions.forEach((def, index) => { const row = document.createElement('div'); row.style.cssText = 'display:flex;gap:8px;align-items:center;padding:8px;border-bottom:1px solid #eee;justify-content:space-between;'; const info = document.createElement('div'); info.style.cssText = 'flex:1;'; info.innerHTML = `"
  - generic [ref=e41]: "${escapeHtml(def.label)}"
  - generic [ref=e42]: "${escapeHtml(def.id)}"
  - text: "`; const buttons = document.createElement('div'); buttons.style.cssText = 'display:flex;gap:4px;'; const editBtn = document.createElement('button'); editBtn.type = 'button'; editBtn.textContent = 'Edit'; editBtn.style.cssText = 'background:#3498db;color:#fff;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:0.85em;'; editBtn.onclick = () => editFieldDefinition(index); const deleteBtn = document.createElement('button'); deleteBtn.type = 'button'; deleteBtn.textContent = 'Delete'; deleteBtn.style.cssText = 'background:#e74c3c;color:#fff;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:0.85em;'; deleteBtn.onclick = () => deleteFieldDefinition(index); buttons.appendChild(editBtn); buttons.appendChild(deleteBtn); row.appendChild(info); row.appendChild(buttons); fieldsList.appendChild(row); }); } function addFieldDefinition() { const fieldId = document.getElementById('fieldIdInput').value.trim(); const fieldLabel = document.getElementById('fieldLabelInput').value.trim(); if (!fieldId || !fieldLabel) { alert('Please enter both ID and Label'); return; } try { // Check if this is a configuration item const configItems = loadConfigurationItems(); const isConfigItem = configItems.some(c => c.id === fieldId); if (isConfigItem) { // Update configuration item const index = configItems.findIndex(c => c.id === fieldId); if (index >= 0) { if (currentEditingFieldIndex !== null && currentEditingFieldIndex === index) { configItems[index].label = fieldLabel; } } saveConfigurationItems(configItems); cancelEditField(); refreshConfigItemsList(); } else { // Handle custom fields const definitions = loadFieldDefinitions(); if (currentEditingFieldIndex !== null) { definitions[currentEditingFieldIndex].label = fieldLabel; } else { const existingIndex = definitions.findIndex(d => d.id === fieldId); if (existingIndex >= 0) { definitions[existingIndex].label = fieldLabel; } else { definitions.push({ id: fieldId, label: fieldLabel, category: 'custom' }); } } saveFieldDefinitions(definitions); updateAllFieldSelects(); cancelEditField(); refreshFieldsList(); } saveState(); } catch (e) { alert('Error saving field definition: ' + e.message); } } function deleteFieldDefinition(index) { if (!confirm('Delete this field definition?')) return; try { const definitions = loadFieldDefinitions(); definitions.splice(index, 1); saveFieldDefinitions(definitions); // Update all dropdowns updateAllFieldSelects(); // Refresh list refreshFieldsList(); saveState(); } catch (e) { alert('Error deleting field definition: ' + e.message); } } function updateAllFieldSelects() { const definitions = loadFieldDefinitions(); const rows = document.querySelectorAll('.field-row'); rows.forEach(row => { const select = row.querySelector('.field-select'); const currentValue = select.value; // Clear options except placeholder while (select.options.length > 1) { select.remove(1); } // Add all definitions definitions.forEach(def => { const option = document.createElement('option'); option.value = def.id; option.textContent = def.label; select.appendChild(option); }); // Restore selection select.value = currentValue; }); } function escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } // ======================================================================== // CONFIGURATION PRESETS - Functions for saving/loading templates // ======================================================================== function loadConfigurationPresets() { try { const stored = localStorage.getItem('jiraConfigurationPresets'); if (!stored) return []; const parsed = JSON.parse(stored); return Array.isArray(parsed) ? parsed : []; } catch (e) { console.error('Failed to load presets:', e); return []; } } function saveConfigurationPreset(preset) { try { if (!preset.id || !preset.name) { throw new Error('Preset must have id and name'); } const presets = loadConfigurationPresets(); const index = presets.findIndex(p => p.id === preset.id); if (index >= 0) { presets[index] = preset; } else { presets.push(preset); } localStorage.setItem('jiraConfigurationPresets', JSON.stringify(presets)); return preset; } catch (e) { throw new Error('Failed to save preset: ' + e.message); } } function deleteConfigurationPreset(presetId) { try { const presets = loadConfigurationPresets(); const index = presets.findIndex(p => p.id === presetId); if (index < 0) { throw new Error('Preset not found'); } presets.splice(index, 1); localStorage.setItem('jiraConfigurationPresets', JSON.stringify(presets)); return true; } catch (e) { throw new Error('Failed to delete preset: ' + e.message); } } function applyPresetToForm(presetId) { const presets = loadConfigurationPresets(); const preset = presets.find(p => p.id === presetId); if (!preset) throw new Error('Preset not found'); return { baseUrl: preset.baseUrl || '', projectId: preset.projectId || '', issueTypeId: preset.issueTypeId || '', fields: preset.fields || [] }; } function generatePresetId(name) { return 'preset_' + name.toLowerCase().replace(/\\s+/g, '_') + '_' + Date.now(); } function openManagePresetsModal() { const modal = document.getElementById('managePresetsModal'); if (!modal) return; modal.style.display = 'flex'; refreshPresetsList(); } function closeManagePresetsModal() { const modal = document.getElementById('managePresetsModal'); if (!modal) return; modal.style.display = 'none'; } function refreshPresetsList() { const presetsList = document.getElementById('presetsList'); if (!presetsList) return; const presets = loadConfigurationPresets(); presetsList.innerHTML = ''; if (presets.length === 0) { presetsList.innerHTML = '"
  - generic [ref=e43]: No presets saved yet
  - text: "'; return; } presets.forEach((preset, index) => { const row = document.createElement('div'); row.style.cssText = 'padding:12px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;'; const info = document.createElement('div'); info.style.cssText = 'flex:1;'; info.innerHTML = `"
  - generic [ref=e44]: "${escapeHtml(preset.name)}"
  - generic [ref=e45]: "${preset.description || ''}"
  - generic [ref=e46]: "Created: ${new Date(preset.createdAt).toLocaleString()}"
  - text: "`; const buttons = document.createElement('div'); buttons.style.cssText = 'display:flex;gap:8px;'; const editBtn = document.createElement('button'); editBtn.type = 'button'; editBtn.textContent = 'Edit'; editBtn.style.cssText = 'background:#3498db;color:#fff;border:none;border-radius:4px;padding:6px 12px;cursor:pointer;'; editBtn.onclick = () => editConfigurationPreset(index); const deleteBtn = document.createElement('button'); deleteBtn.type = 'button'; deleteBtn.textContent = 'Delete'; deleteBtn.style.cssText = 'background:#e74c3c;color:#fff;border:none;border-radius:4px;padding:6px 12px;cursor:pointer;'; deleteBtn.onclick = () => { if (confirm('Delete this preset?')) { try { deleteConfigurationPreset(preset.id); refreshPresetsList(); populatePresetDropdown(); } catch (e) { alert('Error: ' + e.message); } } }; buttons.appendChild(editBtn); buttons.appendChild(deleteBtn); row.appendChild(info); row.appendChild(buttons); presetsList.appendChild(row); }); } function editConfigurationPreset(index) { const presets = loadConfigurationPresets(); const preset = presets[index]; if (!preset) return; const newName = prompt('Enter new preset name:', preset.name); if (!newName) return; preset.name = newName; try { saveConfigurationPreset(preset); refreshPresetsList(); populatePresetDropdown(); } catch (e) { alert('Error updating preset: ' + e.message); } } function openSavePresetModal() { const modal = document.getElementById('savePresetModal'); if (!modal) return; modal.style.display = 'flex'; } function closeSavePresetModal() { const modal = document.getElementById('savePresetModal'); if (!modal) return; modal.style.display = 'none'; document.getElementById('presetName').value = ''; document.getElementById('presetDescription').value = ''; document.getElementById('lockBaseUrl').checked = false; document.getElementById('lockProjectId').checked = false; document.getElementById('lockIssueTypeId').checked = false; } function saveCurrentAsPreset() { const name = document.getElementById('presetName').value.trim(); const description = document.getElementById('presetDescription').value.trim(); const lockBaseUrl = document.getElementById('lockBaseUrl').checked; const lockProjectId = document.getElementById('lockProjectId').checked; const lockIssueTypeId = document.getElementById('lockIssueTypeId').checked; if (!name) { alert('Please enter a preset name'); return; } try { const baseUrl = document.getElementById('baseUrl').value; const projectId = document.getElementById('projectId').value; const issueTypeId = document.getElementById('issueTypeId').value; const fields = getFields(); const preset = { id: generatePresetId(name), name: name, fields: fields, createdAt: Date.now() }; if (description) preset.description = description; if (lockBaseUrl && baseUrl) preset.baseUrl = baseUrl; if (lockProjectId && projectId) preset.projectId = projectId; if (lockIssueTypeId && issueTypeId) preset.issueTypeId = issueTypeId; saveConfigurationPreset(preset); // Refresh preset dropdown populatePresetDropdown(); closeSavePresetModal(); alert('Preset saved successfully!'); } catch (e) { alert('Error saving preset: ' + e.message); } } // ======================================================================== // CONFIGURATION MANAGER - Saved Configurations with Aliases // ======================================================================== function loadSavedConfigurations() { try { const stored = localStorage.getItem('jiraSavedConfigurations'); if (!stored) return []; const parsed = JSON.parse(stored); return Array.isArray(parsed) ? parsed : []; } catch (e) { console.error('Failed to load saved configurations:', e); return []; } } function saveSavedConfigurations(configurations) { try { localStorage.setItem('jiraSavedConfigurations', JSON.stringify(configurations)); return true; } catch (e) { console.error('Failed to save configurations:', e); throw new Error('Could not save configurations (localStorage full?)'); } } function generateConfigId() { return 'config_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9); } function openConfigurationManager() { const modal = document.getElementById('configManagerModal'); modal.style.display = 'flex'; refreshSavedConfigsList(); populateAllConfigDropdowns(); } function closeConfigurationManager() { const modal = document.getElementById('configManagerModal'); modal.style.display = 'none'; cancelConfigEdit(); } let currentEditingConfigId = null; function saveNewConfiguration() { const alias = document.getElementById('configAliasInput').value.trim(); const baseUrl = document.getElementById('configBaseUrlInput').value.trim(); const projectId = document.getElementById('configProjectIdInput').value.trim(); const issueTypeId = document.getElementById('configIssueTypeIdInput').value.trim(); if (!alias || !baseUrl || !projectId || !issueTypeId) { alert('Please fill in all fields'); return; } try { const configurations = loadSavedConfigurations(); if (currentEditingConfigId) { // Update existing const index = configurations.findIndex(c => c.id === currentEditingConfigId); if (index >= 0) { configurations[index] = { id: currentEditingConfigId, alias: alias, baseUrl: baseUrl, projectId: projectId, issueTypeId: issueTypeId, updatedAt: Date.now() }; } } else { // Add new configurations.push({ id: generateConfigId(), alias: alias, baseUrl: baseUrl, projectId: projectId, issueTypeId: issueTypeId, createdAt: Date.now() }); } saveSavedConfigurations(configurations); refreshSavedConfigsList(); populateAllConfigDropdowns(); cancelConfigEdit(); alert('Configuration saved successfully!'); } catch (e) { alert('Error saving configuration: ' + e.message); } } function cancelConfigEdit() { currentEditingConfigId = null; document.getElementById('configAliasInput').value = ''; document.getElementById('configBaseUrlInput').value = ''; document.getElementById('configProjectIdInput').value = ''; document.getElementById('configIssueTypeIdInput').value = ''; document.getElementById('saveConfigBtn').textContent = 'Save Configuration'; document.getElementById('saveConfigBtn').style.background = '#27ae60'; document.getElementById('cancelConfigBtn').style.display = 'none'; } function refreshSavedConfigsList() { const list = document.getElementById('savedConfigsList'); const configurations = loadSavedConfigurations(); list.innerHTML = ''; if (configurations.length === 0) { list.innerHTML = '"
  - generic [ref=e47]:
    - text: No saved configurations yet.
    - text: Add one above to get started!
  - text: "'; return; } configurations.forEach((config, index) => { const row = document.createElement('div'); row.style.cssText = 'padding:12px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:flex-start;'; const info = document.createElement('div'); info.style.cssText = 'flex:1;'; info.innerHTML = `"
  - generic [ref=e48]: "${escapeHtml(config.alias)}"
  - generic [ref=e49]:
    - strong [ref=e50]: "URL:"
    - text: "${escapeHtml(config.baseUrl)}"
  - generic [ref=e51]:
    - strong [ref=e52]: "Project:"
    - text: "${escapeHtml(config.projectId)}"
  - generic [ref=e53]:
    - strong [ref=e54]: "Issue Type:"
    - text: "${escapeHtml(config.issueTypeId)}"
  - text: "`; const buttons = document.createElement('div'); buttons.style.cssText = 'display:flex;gap:8px;flex-direction:column;'; const useBtn = document.createElement('button'); useBtn.type = 'button'; useBtn.textContent = 'Use'; useBtn.style.cssText = 'background:#27ae60;color:#fff;border:none;border-radius:4px;padding:6px 16px;cursor:pointer;font-size:0.9em;white-space:nowrap;'; useBtn.onclick = () => { applyConfiguration(config.id); closeConfigurationManager(); }; const editBtn = document.createElement('button'); editBtn.type = 'button'; editBtn.textContent = 'Edit'; editBtn.style.cssText = 'background:#3498db;color:#fff;border:none;border-radius:4px;padding:6px 16px;cursor:pointer;font-size:0.9em;'; editBtn.onclick = () => editConfiguration(config.id); const deleteBtn = document.createElement('button'); deleteBtn.type = 'button'; deleteBtn.textContent = 'Delete'; deleteBtn.style.cssText = 'background:#e74c3c;color:#fff;border:none;border-radius:4px;padding:6px 16px;cursor:pointer;font-size:0.9em;'; deleteBtn.onclick = () => deleteConfiguration(config.id); buttons.appendChild(useBtn); buttons.appendChild(editBtn); buttons.appendChild(deleteBtn); row.appendChild(info); row.appendChild(buttons); list.appendChild(row); }); } function editConfiguration(configId) { const configurations = loadSavedConfigurations(); const config = configurations.find(c => c.id === configId); if (!config) return; currentEditingConfigId = configId; document.getElementById('configAliasInput').value = config.alias; document.getElementById('configBaseUrlInput').value = config.baseUrl; document.getElementById('configProjectIdInput').value = config.projectId; document.getElementById('configIssueTypeIdInput').value = config.issueTypeId; document.getElementById('saveConfigBtn').textContent = 'Update Configuration'; document.getElementById('saveConfigBtn').style.background = '#3498db'; document.getElementById('cancelConfigBtn').style.display = 'inline-block'; // Scroll to form document.getElementById('configAliasInput').scrollIntoView({ behavior: 'smooth', block: 'center' }); } function deleteConfiguration(configId) { if (!confirm('Delete this configuration?')) return; try { const configurations = loadSavedConfigurations(); const filtered = configurations.filter(c => c.id !== configId); saveSavedConfigurations(filtered); refreshSavedConfigsList(); populateAllConfigDropdowns(); alert('Configuration deleted'); } catch (e) { alert('Error deleting configuration: ' + e.message); } } function applyConfiguration(configId) { const configurations = loadSavedConfigurations(); const config = configurations.find(c => c.id === configId); if (!config) return; document.getElementById('baseUrl').value = config.baseUrl; document.getElementById('projectId').value = config.projectId; document.getElementById('issueTypeId').value = config.issueTypeId; // Remember last used localStorage.setItem('lastUsedConfigId', configId); saveState(); } function populateAllConfigDropdowns() { populateBaseUrlDropdown(); populateProjectIdDropdown(); populateIssueTypeIdDropdown(); } function populateBaseUrlDropdown() { const select = document.getElementById('baseUrl'); const configurations = loadSavedConfigurations(); const currentValue = select.value; // Clear existing options except first while (select.options.length > 1) { select.remove(1); } // Get unique base URLs with their aliases const urlMap = new Map(); configurations.forEach(config => { if (!urlMap.has(config.baseUrl)) { urlMap.set(config.baseUrl, []); } urlMap.get(config.baseUrl).push(config.alias); }); urlMap.forEach((aliases, url) => { const option = document.createElement('option'); option.value = url; option.textContent = aliases.join(', ') + ': ' + url; select.appendChild(option); }); // Restore selection if it still exists if (currentValue) { select.value = currentValue; } } function populateProjectIdDropdown() { const select = document.getElementById('projectId'); const configurations = loadSavedConfigurations(); const currentValue = select.value; // Clear existing options except first while (select.options.length > 1) { select.remove(1); } // Get unique project IDs with their aliases const projectMap = new Map(); configurations.forEach(config => { if (!projectMap.has(config.projectId)) { projectMap.set(config.projectId, []); } projectMap.get(config.projectId).push(config.alias); }); projectMap.forEach((aliases, projectId) => { const option = document.createElement('option'); option.value = projectId; option.textContent = aliases.join(', ') + ': ' + projectId; select.appendChild(option); }); // Restore selection if it still exists if (currentValue) { select.value = currentValue; } } function populateIssueTypeIdDropdown() { const select = document.getElementById('issueTypeId'); const configurations = loadSavedConfigurations(); const currentValue = select.value; // Clear existing options except first while (select.options.length > 1) { select.remove(1); } // Get unique issue type IDs with their aliases const typeMap = new Map(); configurations.forEach(config => { if (!typeMap.has(config.issueTypeId)) { typeMap.set(config.issueTypeId, []); } typeMap.get(config.issueTypeId).push(config.alias); }); typeMap.forEach((aliases, issueTypeId) => { const option = document.createElement('option'); option.value = issueTypeId; option.textContent = aliases.join(', ') + ': ' + issueTypeId; select.appendChild(option); }); // Restore selection if it still exists if (currentValue) { select.value = currentValue; } } function applyBaseUrlFromDropdown() { // No longer needed - dropdown IS the input saveState(); } function applyProjectIdFromDropdown() { // No longer needed - dropdown IS the input saveState(); } function applyIssueTypeIdFromDropdown() { // No longer needed - dropdown IS the input saveState(); } // Initialize dropdowns on page load window.addEventListener('DOMContentLoaded', () => { populateAllConfigDropdowns(); // Restore last used configuration if exists const lastUsedId = localStorage.getItem('lastUsedConfigId'); if (lastUsedId) { const config = loadSavedConfigurations().find(c => c.id === lastUsedId); if (config && !document.getElementById('baseUrl').value) { // Only apply if form is empty applyConfiguration(lastUsedId); } } });"
```